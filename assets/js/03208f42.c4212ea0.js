"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8690],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var i=r.createContext({}),c=function(e){var t=r.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(i.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,i=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=c(n),d=o,h=u["".concat(i,".").concat(d)]||u[d]||m[d]||a;return n?r.createElement(h,l(l({ref:t},p),{},{components:n})):r.createElement(h,l({ref:t},p))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,l=new Array(a);l[0]=d;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s[u]="string"==typeof e?e:o,l[1]=s;for(var c=2;c<a;c++)l[c]=n[c];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},3518:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>l,default:()=>m,frontMatter:()=>a,metadata:()=>s,toc:()=>c});var r=n(7462),o=(n(7294),n(3905));const a={title:"Chat Completion"},l=void 0,s={unversionedId:"features/chat",id:"features/chat",title:"Chat Completion",description:"The Chat Completion feature in Nitro provides a flexible way to interact with any local Large Language Model (LLM).",source:"@site/docs/features/chat.md",sourceDirName:"features",slug:"/features/chat",permalink:"/features/chat",draft:!1,editUrl:"https://github.com/janhq/nitro/tree/main/docs/docs/features/chat.md",tags:[],version:"current",lastUpdatedBy:"automaticcat",lastUpdatedAt:1700543139,formattedLastUpdatedAt:"Nov 21, 2023",frontMatter:{title:"Chat Completion"},sidebar:"docsSidebar",previous:{title:"Nitro Features",permalink:"/features/feat"},next:{title:"Embedding",permalink:"/features/embed"}},i={},c=[{value:"Single Request Example",id:"single-request-example",level:2},{value:"Dialog Request Example",id:"dialog-request-example",level:3},{value:"Chat Completion Response",id:"chat-completion-response",level:3}],p={toc:c},u="wrapper";function m(e){let{components:t,...n}=e;return(0,o.kt)(u,(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"The Chat Completion feature in Nitro provides a flexible way to interact with any local Large Language Model (LLM)."),(0,o.kt)("h2",{id:"single-request-example"},"Single Request Example"),(0,o.kt)("p",null,"To send a single query to your chosen LLM, follow these steps:"),(0,o.kt)("div",{style:{width:"50%",float:"left",clear:"left"}},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Nitro"',title:'"Nitro"'},'curl http://localhost:3928/v1/chat/completions \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "model": "",\n    "messages": [\n      {\n        "role": "user",\n        "content": "Hello"\n      },\n    ]\n  }\'\n\n'))),(0,o.kt)("div",{style:{width:"50%",float:"right",clear:"right"}},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="OpenAI"',title:'"OpenAI"'},'curl https://api.openai.com/v1/chat/completions \\\n  -H "Content-Type: application/json" \\\n  -H "Authorization: Bearer $OPENAI_API_KEY" \\\n  -d \'{\n    "model": "gpt-3.5-turbo",\n    "messages": [\n      {\n        "role": "user",\n        "content": "Hello"\n      }\n    ]\n  }\'\n'))),(0,o.kt)("p",null,"This command sends a request to your local LLM, querying about the winner of the 2020 World Series."),(0,o.kt)("h3",{id:"dialog-request-example"},"Dialog Request Example"),(0,o.kt)("p",null,"For ongoing conversations or multiple queries, the dialog request feature is ideal. Here\u2019s how to structure a multi-turn conversation:"),(0,o.kt)("div",{style:{width:"50%",float:"left",clear:"left"}},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Nitro"',title:'"Nitro"'},'curl http://localhost:3928/v1/chat/completions \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "messages": [\n      {\n        "role": "system",\n        "content": "You are a helpful assistant."\n      },\n      {\n        "role": "user",\n        "content": "Who won the world series in 2020?"\n      },\n      {\n        "role": "assistant",\n        "content": "The Los Angeles Dodgers won the World Series in 2020."\n      },\n      {\n        "role": "user",\n        "content": "Where was it played?"\n      }\n    ]\n  }\'\n\n'))),(0,o.kt)("div",{style:{width:"50%",float:"right",clear:"right"}},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="OpenAI"',title:'"OpenAI"'},'curl https://api.openai.com/v1/chat/completions \\\n  -H "Content-Type: application/json" \\\n  -H "Authorization: Bearer $OPENAI_API_KEY" \\\n  -d \'{\n    "messages": [\n      {\n        "role": "system",\n        "content": "You are a helpful assistant."\n      },\n      {\n        "role": "user",\n        "content": "Who won the world series in 2020?"\n      },\n      {\n        "role": "assistant",\n        "content": "The Los Angeles Dodgers won the World Series in 2020."\n      },\n      {\n        "role": "user",\n        "content": "Where was it played?"\n      }\n    ]\n  }\'\n'))),(0,o.kt)("h3",{id:"chat-completion-response"},"Chat Completion Response"),(0,o.kt)("p",null,"Below are examples of responses from both the Nitro server and OpenAI:"),(0,o.kt)("div",{style:{width:"50%",float:"left",clear:"left"}},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="Nitro"',title:'"Nitro"'},'{\n  "choices": [\n    {\n      "finish_reason": null,\n      "index": 0,\n      "message": {\n        "content": "Hello, how may I assist you this evening?",\n        "role": "assistant"\n      }\n    }\n  ],\n  "created": 1700215278,\n  "id": "sofpJrnBGUnchO8QhA0s",\n  "model": "_",\n  "object": "chat.completion",\n  "system_fingerprint": "_",\n  "usage": {\n    "completion_tokens": 13,\n    "prompt_tokens": 90,\n    "total_tokens": 103\n  }\n}\n'))),(0,o.kt)("div",{style:{width:"50%",float:"right",clear:"right"}},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="OpenAI"',title:'"OpenAI"'},'{\n  "choices": [\n    {\n      "finish_reason": "stop"\n      "index": 0,\n      "message": {\n        "role": "assistant",\n        "content": "Hello there, how may I assist you today?",\n      }\n    }\n  ],\n  "created": 1677652288,\n  "id": "chatcmpl-123",\n  "model": "gpt-3.5-turbo-0613",\n  "object": "chat.completion",\n  "system_fingerprint": "fp_44709d6fcb",\n  "usage": {\n    "completion_tokens": 12,\n    "prompt_tokens": 9,\n    "total_tokens": 21\n  }\n}\n'))),(0,o.kt)("p",null,"The chat completion feature in Nitro showcases compatibility with OpenAI, making the transition between using OpenAI and local AI models more straightforward. For further details and advanced usage, please refer to the ",(0,o.kt)("a",{parentName:"p",href:"https://nitro.jan.ai/api"},"API reference"),"."))}m.isMDXComponent=!0}}]);